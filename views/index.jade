extends layout

include mixins.jade
          
block content
  h1= title
  #new_task
    form(ng-submit="addTask(task)")
      div
        label(for="newTaskContent") New Task
        input(type="text", name="task_content", id="newTaskContent", placeholder="Task content", ng-model="task.content")
      div#newTaskSubmit
        input(type="submit", value="Add")

  #tasks
    h2 Tasks
    p There are {{ (tasks | filter:{done: false}).length }} opened tasks
    #filterTasks
      //- BUG: You can filter the owner by task, and vice versa.
      input#filterContent(type="text", placeholder="Filter tasks by content", ng-model="filterContent")
      input#filterOwner(type="text", placeholder="Filter owner", ng-model="filterOwner")
    +taskTable('openedTasks', false)
    h2 Completed Tasks
    +taskTable('closedTasks', true)