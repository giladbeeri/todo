//-
  A mixin that builds a task table.
  done - Does the table show done (or opened) tasks
  tableId - Id for the table

mixin tableHeaderCell(text, internalName)
  th(ng-click="sortTable("+ internalName + ")", title="Sort by column") 
    = text 
    span.caret

mixin taskTable(tableId, done)
  table(id=tableId)
    thead
      tr
        th.empty
        th.empty
        +tableHeaderCell('Content', 'content')
        +tableHeaderCell('Due Date', 'due_date')
        +tableHeaderCell('Owner', 'owner')
    tbody
      tr.task(ng-repeat="task in tasks | orderBy:predicate:reverseOrder | filter:{done:" + done.toString() + "} | filter:filter")
        td.toggleTask
          span(title=done ? "Reopen task" : "Mark as completed", ng-click="toggleTask(task._id)") 
            if done 
              &#x25cb
            else
              &#x2713
        td.removeTask
          span(title="Delete", ng-click="deleteTask(task._id)") X
        td.content
          span {{ task.content }}
        td.dueDate
          span {{ task.due_date | date:"dd/MM/yyyy" }}
        td.owner
          span {{ task.owner }}
